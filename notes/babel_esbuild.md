---
category: Study
title: Babel_Esbuild
date_started: 2024.12.06
date_updated: 2024.12.06
tags: web, transpiler, browser
---

> Babel, esbuild ê³µì‹ ë¬¸ì„œë¥¼ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

![babel](https://babeljs.io/img/babel.svg)

# Babelì´ë€?

**Babel**ì€ JavaScript ì»´íŒŒì¼ëŸ¬ë¡œ, ìµœì‹  ECMAScript(ES2015+) ì½”ë“œë¥¼ í˜„ì¬ ë° ì´ì „ ë¸Œë¼ìš°ì €ë‚˜ í™˜ê²½ì—ì„œë„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ë³€í™˜í•´ì£¼ëŠ” **ë„êµ¬ ì²´ì¸(toolchain)**ì…ë‹ˆë‹¤. ì£¼ìš” ê¸°ëŠ¥ê³¼ í™œìš© ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ë¬¸ë²• ë³€í™˜ (Transform Syntax)

Babelì€ ìµœì‹  JavaScript ë¬¸ë²•ì„ ì´ì „ ë²„ì „ì˜ JavaScriptë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ES2015ì˜ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ES5ì˜ ì¼ë°˜ í•¨ìˆ˜ë¡œ ë³€í™˜ë©ë‹ˆë‹¤.

```javascript
// Babel ì…ë ¥: ES2015 í™”ì‚´í‘œ í•¨ìˆ˜
[1, 2, 3].map((n) => n + 1)

// Babel ì¶œë ¥: ES5 ë“±ê°€ ì½”ë“œ
[1, 2, 3].map( 
  function (n) {
    return n + 1
  }
)
```

### 2. í´ë¦¬í•„ (Polyfill)

Babelì€ íƒ€ê²Ÿ í™˜ê²½ì—ì„œ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì„ ë™ì‘í•˜ë„ë¡ í•˜ëŠ” í´ë¦¬í•„(polyfill)ì„ ì§€ì›í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `core-js`ì™€ ê°™ì€ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ìµœì‹  JavaScript ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3. JSX ë° React ì§€ì›

Babelì€ JSX ë¬¸ë²•ì„ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. React ê°œë°œì— í•„ìš”í•œ `@babel/preset-react`ë¥¼ ì‚¬ìš©í•˜ë©´ JSX ë³€í™˜ì„ ê°„ë‹¨íˆ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì„¤ì¹˜ ë°©ë²•

```bash
npm install --save-dev @babel/preset-react
```

jsx ì˜ˆì‹œ

```jsx
export default function DiceRoll() {
  const [num, setNum] = React.useState(Math.ceil(Math.random() \* 6));

  const handleClick = () => {
    setNum(Math.ceil(Math.random() \* 6));
  };

  return (
    <div>
      Your dice roll: {num}.
      <button onClick={handleClick}>
        Click to get a new number
      </button>
    </div>
  );
}
```

4.  íƒ€ì… ì£¼ì„ ì œê±° (Type Annotations)
    Babelì€ Flowì™€ TypeScriptì˜ íƒ€ì… ì£¼ì„ì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, íƒ€ì… ê²€ì‚¬ ìì²´ëŠ” ìˆ˜í–‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, íƒ€ì… ê²€ì‚¬ë¥¼ ìœ„í•´ì„œëŠ” Flow ë˜ëŠ” TypeScriptë¥¼ ë³„ë„ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

TypeScript í”„ë¦¬ì…‹ ì„¤ì¹˜

```bash
npm install --save-dev @babel/preset-typescript
```

ts ì˜ˆì‹œ

```typescript
function Greeter(greeting: string) {
  this.greeting = greeting
}
```

5.  í”ŒëŸ¬ê·¸ì¸ ê¸°ë°˜ ì„¤ê³„ (Pluggable)
    Babelì€ í”ŒëŸ¬ê·¸ì¸ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ë³€í™˜ì„ ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì¡°í•©í•˜ê±°ë‚˜, ì§ì ‘ í”ŒëŸ¬ê·¸ì¸ì„ ì‘ì„±í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œ: ê°„ë‹¨í•œ Babel í”ŒëŸ¬ê·¸ì¸

```javascript
// A plugin is just a function
export default function ({ types: t }) {
  return {
    visitor: {
      Identifier(path) {
        const name = path.node.name
        path.node.name = name.split('').reverse().join('')
      },
    },
  }
}
```

6. ë””ë²„ê¹… ì§€ì›
   Babelì€ **ì†ŒìŠ¤ ë§µ(source map)**ì„ ì§€ì›í•˜ì—¬ ì»´íŒŒì¼ëœ ì½”ë“œë„ ë””ë²„ê¹…í•˜ê¸° ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.

### Babelì˜ ì¥ì 

1. **í‘œì¤€ ì¤€ìˆ˜**: ECMAScript í‘œì¤€ì„ ê°€ëŠ¥í•œ í•œ ì¶©ì‹¤íˆ ë”°ë¦…ë‹ˆë‹¤.
2. **ê²½ëŸ‰í™”**: ë¶ˆí•„ìš”í•œ ëŸ°íƒ€ì„ ì¢…ì†ì„±ì„ ìµœì†Œí™”í•˜ì—¬ íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì´ê³  ì„±ëŠ¥ì„ ë†’ì…ë‹ˆë‹¤.

### ğŸ“ ìš©ì–´ ì„¤ëª…

- **ECMAScript (ES)**: JavaScriptì˜ í‘œì¤€ ì‚¬ì–‘.
- **Compiler (ì»´íŒŒì¼ëŸ¬)**: ì½”ë“œë¥¼ ë‹¤ë¥¸ í˜•íƒœë¡œ ë³€í™˜í•´ì£¼ëŠ” í”„ë¡œê·¸ë¨.
- **Syntax (ë¬¸ë²•)**: í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ êµ¬ì¡°ì™€ ê·œì¹™.
- **Polyfill (í´ë¦¬í•„)**: íŠ¹ì • ê¸°ëŠ¥ì´ ì—†ëŠ” í™˜ê²½ì—ì„œë„ í•´ë‹¹ ë¡œì§ì´ ì‘ë™í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” ì½”ë“œ.

Babelì€ ìµœì‹  JavaScript ê°œë°œì—ì„œ ì¤‘ìš”í•œ ë„êµ¬ë¡œ, í˜¸í™˜ì„±ê³¼ í™•ì¥ì„±ì„ ë™ì‹œì— ì œê³µí•©ë‹ˆë‹¤. âœ¨

---

![esbuild](https://github.com/user-attachments/assets/d99c5959-815d-46d8-b38d-416d40a62ff8)

# ESBuildë€?

ESBuildëŠ” ìµœì‹  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì—ì„œ ë¹Œë“œ ë„êµ¬ì˜ ì†ë„ì™€ ì„±ëŠ¥ì„ ëŒ€í­ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì„¤ê³„ëœ ì´ˆê³ ì† ë²ˆë“¤ëŸ¬ì…ë‹ˆë‹¤. ESBuildëŠ” **Go ì–¸ì–´**ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, í˜„ëŒ€ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ì§€ì›í•˜ëŠ” ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ì£¼ìš” ê¸°ëŠ¥

- **ì´ˆê³ ì† ë¹Œë“œ ì†ë„** (ìºì‹œ ì—†ì´ë„ ë¹ ë¦„)
- **JavaScript, CSS, TypeScript, JSX** ì§€ì›
- ê°„ë‹¨í•œ CLI, JavaScript, Go API
- **ESM** ë° **CommonJS ëª¨ë“ˆ** ë²ˆë“¤ë§
- **CSS ë²ˆë“¤ë§** ë° **CSS ëª¨ë“ˆ** ì§€ì›
- **íŠ¸ë¦¬ ì‰ì´í‚¹(Tree Shaking)**, **ì½”ë“œ ì¶•ì†Œ(Minification)**, **ì†ŒìŠ¤ë§µ** ìƒì„±
- **ë¡œì»¬ ì„œë²„**, **íŒŒì¼ ë³€ê²½ ê°ì§€(Watch Mode)**, **í”ŒëŸ¬ê·¸ì¸** ì‹œìŠ¤í…œ ì œê³µ

---

## ESBuildê°€ ë¹ ë¥¸ ì´ìœ 

1. **Go ì–¸ì–´ë¡œ ê°œë°œ**  
   GoëŠ” ë³‘ë ¬ ì²˜ë¦¬ê°€ ê°•ë ¥í•˜ë©°, JavaScriptë³´ë‹¤ ì„±ëŠ¥ ìµœì í™”ê°€ ì˜ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. JavaScript ê¸°ë°˜ ë²ˆë“¤ëŸ¬ì™€ ë‹¬ë¦¬ ESBuildëŠ” ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ì»´íŒŒì¼ë˜ì–´ ì‹¤í–‰ ì†ë„ê°€ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤.

   **ë³‘ë ¬ ì²˜ë¦¬**: GoëŠ” ì—¬ëŸ¬ CPU ì½”ì–´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ì²˜ë¦¬ ì†ë„ë¥¼ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.  
   **ë©”ëª¨ë¦¬ ê³µìœ **: Goì˜ ìŠ¤ë ˆë“œëŠ” ë©”ëª¨ë¦¬ë¥¼ ê³µìœ í•˜ë¯€ë¡œ ì‘ì—… ê°„ ë°ì´í„° ì§ë ¬í™”(serialization)ê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤.

   > **ë³‘ë ¬ ì²˜ë¦¬**: ì—¬ëŸ¬ ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ì—¬ ì†ë„ë¥¼ í–¥ìƒì‹œí‚¤ëŠ” ê¸°ë²•.  
   > **ì§ë ¬í™”**: ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì „ì†¡í•˜ê¸° ìœ„í•´ í˜•ì‹ì— ë§ì¶° ë³€í™˜í•˜ëŠ” ê³¼ì •.

2. **ì „ì²´ ë¡œì§ ìì²´ ê°œë°œ**  
   ESBuildëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ëª¨ë“  ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

   - ì¼ê´€ëœ ë°ì´í„° êµ¬ì¡° ì‚¬ìš©
   - í•„ìš”í•  ë•Œ ì•„í‚¤í…ì²˜ ì „ì²´ë¥¼ ìµœì í™” ê°€ëŠ¥

   ì˜ˆë¥¼ ë“¤ì–´, ëŒ€ë¶€ë¶„ì˜ ë²ˆë“¤ëŸ¬ëŠ” TypeScript ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ESBuildëŠ” ìì²´ TypeScript íŒŒì„œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ ë³‘ëª©ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.

3. **ìµœì†Œí•œì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©**  
   ESBuildëŠ” ì‘ì—… ë°ì´í„°ë¥¼ ìµœì†Œí•œì˜ ë©”ëª¨ë¦¬ë¡œ ì²˜ë¦¬í•˜ì—¬ CPU ìºì‹œì— íš¨ìœ¨ì ìœ¼ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.
   - ë°ì´í„° ë³€í™˜ ê³¼ì •ì„ ì¤„ì´ê³ , ë°ì´í„° êµ¬ì¡°ë¥¼ ì¬ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„
   - ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ í• ë‹¹ì„ ë°©ì§€

---

## ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼

### JavaScript ë²ˆë“¤ë§

| ë²ˆë“¤ëŸ¬          | ì‹œê°„    | ìƒëŒ€ ì†ë„ | ì²˜ë¦¬ ì†ë„     | ë²ˆë“¤ í¬ê¸° |
| --------------- | ------- | --------- | ------------- | --------- |
| **ESBuild**     | 0.39ì´ˆ  | **1x**    | 1403.7 KLOC/s | 5.80 MB   |
| Parcel 2        | 14.91ì´ˆ | 38x       | 36.7 KLOC/s   | 5.78 MB   |
| Rollup + Terser | 34.10ì´ˆ | 87x       | 16.1 KLOC/s   | 5.82 MB   |
| Webpack 5       | 41.21ì´ˆ | 106x      | 13.3 KLOC/s   | 5.84 MB   |

- ESBuildëŠ” ê²½ìŸ ë„êµ¬ë³´ë‹¤ **10~100ë°°** ë¹ ë¦…ë‹ˆë‹¤.

---

## ì£¼ìš” ì‚¬ìš© ì‚¬ë¡€

1. **Viteì™€ì˜ í†µí•©**: ESBuildëŠ” Viteì—ì„œ TypeScriptë¥¼ JavaScriptë¡œ ë³€í™˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
2. **Snowpack**: ë¹ ë¥¸ ê°œë°œ í™˜ê²½ êµ¬ì¶•.
3. **Amazon CDK** ë° **Phoenix**: ì½”ë“œë¥¼ ë²ˆë“¤ë§í•˜ê¸° ìœ„í•´ í™œìš©.

---

## ESBuildì˜ í•œê³„

- **íƒ€ì… ê²€ì‚¬ ë¯¸ì§€ì›**: TypeScriptì˜ íƒ€ì… ê²€ì‚¬ëŠ” `tsc`ë¥¼ ë³„ë„ë¡œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
- **ëª¨ë“  ì–¸ì–´ ì§€ì› X**: ì˜ˆë¥¼ ë“¤ì–´, Svelte, Vue, Elmì€ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- **í•« ëª¨ë“ˆ êµì²´(HMR)**: ì œê³µë˜ì§€ ì•ŠìŒ.

> ESBuildëŠ” ë‹¨ìˆœí•¨ê³¼ ì„±ëŠ¥ì„ ìœ„í•´ "ëª¨ë“  ê¸°ëŠ¥ì„ ê°–ì¶˜ ì˜¬ì¸ì› ë„êµ¬"ê°€ ì•„ë‹ˆë¼, ë²ˆë“¤ë§ì— ì´ˆì ì„ ë§ì¶˜ ë„êµ¬ì…ë‹ˆë‹¤.

---

ESBuildëŠ” ê³ ì„±ëŠ¥ ë²ˆë“¤ë§ ë„êµ¬ê°€ í•„ìš”í•œ í”„ë¡œì íŠ¸ì— ì í•©í•˜ë©°, ìµœì‹  ì›¹ ê°œë°œì—ì„œ íš¨ìœ¨ì„±ê³¼ ìƒì‚°ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ì°¸ê³ 

- https://esbuild.github.io/
- https://babeljs.io/docs/
